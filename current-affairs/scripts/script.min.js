var preppo=angular.module("dashboardApp",["ngCookies","ngRoute","ngSanitize"]);preppo.config(["$routeProvider",function(e){e.when("/currentAffairs/dailyUpdates/:mode",{templateUrl:"./views/current-affairs-daily-updates.html",controller:"CADailyUpdatesController"}),e.when("/currentAffairs/monthlyDigest",{templateUrl:"./views/current-affairs-monthly-digest.html",controller:"CAMonthlyDigestController"}),e.when("/currentAffairs/quiz",{templateUrl:"./views/current-affairs-quiz-home.html",controller:"CAQuizHomeController"}),e.when("/currentAffairs/quiz/:id",{templateUrl:"./views/current-affairs-quiz-office.html",controller:"CAQuizOfficeController"}),e.otherwise({redirectTo:"/currentAffairs/dailyUpdates/normal"})}]),preppo.run(["$rootScope","$timeout",function(e,t){e.$on("$viewContentLoaded",function(){t(function(){componentHandler.upgradeAllRegistered()})})}]),preppo.constant("apiDomainName","https://prod.api.preppo.in/v1/app"),preppo.constant("categories",["Current Affairs","Mock Test","Practice Test"]),preppo.constant("subCategories",{"Current Affairs":["Daily Updates","Quiz","Monthly Digest"],"Mock Test":[],"Practice Test":[]}),preppo.factory("viewingLang",function(){var e={current:"english",langs:["english","hindi"],setLang:function(t){e.current=t}};return e}),preppo.factory("userService",["$http","apiDomainName","$cookies",function(e,t,n){function a(){r.sessionToken=n.get("sessionToken"),r.sharedOnFb=n.get("sharedOnFb")?"false"!=n.get("sharedOnFb"):!1,r.loggedIn=!1,r.sessionToken&&(r.loggedIn=!0),n.get("lang")&&(r.lang=n.get("lang"))}function i(e,t,a){r.sessionToken=e,r.lang=a,r.sharedOnFb=t,r.loggedIn=!0;var i=new Date("October 13, 9999 11:13:00");n.put("sessionToken",e,{expires:i}),n.put("lang",a,{expires:i}),n.put("sharedOnFb",t?"true":"false",{expires:i})}function s(){n.remove("sessionToken"),n.remove("lang"),n.remove("sharedOnFb"),r.loggedIn=!1,r.sessionToken="",r.lang="english",r.sharedOnFb=!1}function o(e){r.lang=e;var t=new Date("October 13, 9999 11:13:00");n.put("lang",e,{expires:t})}var r={loggedIn:!1,sessionToken:"",lang:"english",sharedOnFb:!1},l={userInfo:r,setUserInfoFromCookie:a,setUserInfoAndCookie:i,clearUserInfoAndCookie:s,setLang:o};return l}]),preppo.factory("dateToString",function(){var e=function(e){var t="0",n=e.getFullYear().toString(),a=(e.getMonth()+1).toString();1==a.length&&(a=t.concat(a));var e=e.getDate().toString();1==e.length&&(e=t.concat(e));var i=n+"-"+a+"-"+e;return i};return{convert:e}}),preppo.factory("quizService",function(){var e={};return{quiz:e}}),preppo.controller("MainController",["$scope","userService","categories","subCategories","$location","apiDomainName","$http",function(e,t,n,a,i,s,o){function r(t){"Current Affairs"==e.currentCategory?"Daily Updates"==t?i.path("/currentAffairs/dailyUpdates/normal"):"Monthly Digest"==t?i.path("/currentAffairs/monthlyDigest"):"Quiz"==t&&i.path("/currentAffairs/quiz"):"Mock Test"==e.currentCategory||"Practice Test"==e.currentCategory}function l(n){var a={fbToken:n.authResponse.accessToken},i={headers:{"Content-Type":"application/json"}},r=s+"/auth/login";o.post(r,a,i).then(function(n){var a=n.data,i=a.user;a.isNewUser&&ll("tagEvent","signup",{identity:"fb"}),t.setUserInfoAndCookie(a["x-session-token"],!!i.sharedOnFb,i.lang?i.lang:"english"),i.sharedOnFb?($("#shareModal").modal("hide"),e.goTo("Monthly Digest")):FB.ui({method:"feed",link:"https://goo.gl/UbZlBI",caption:"preppo.in"},function(n){if(n.post_id){ll("tagEvent","share-app",{via:"fb"});var r={sharedOnFb:!0},l={headers:{"Content-Type":"application/json","x-session-token":a["x-session-token"]}},c=s+"/users/me";o.put(c,r,l).then(function(n){$("#shareModal").modal("hide"),t.setUserInfoAndCookie(a["x-session-token"],!0,i.lang?i.lang:"english"),e.goTo("Monthly Digest")},function(e){})}})},function(e){"INVALID_TOKEN"==e.data.error&&alert("Invalid token.")})}e.currentCategory=n[0],e.loading=!1,e.isDrawerOpen=!1,e.shouldFloatLeft=!0,e.user=t,t.setUserInfoFromCookie(),e.tester=function(){e.shouldFloatLeft=!e.shouldFloatLeft,e.isDrawerOpen=!e.isDrawerOpen},"/currentAffairs/dailyUpdates/normal"==i.path()?r("Daily Updates"):"/currentAffairs/monthlyDigest"==i.path()?r("Monthly Digest"):"/currentAffairs/quiz"==i.path()&&r("Quiz"),e.goTo=r,e.travel=function(n){t.userInfo.loggedIn&&t.userInfo.sharedOnFb?e.goTo(n):$("#shareModal").modal("show")},e.fb=function(){FB.login(function(e){"connected"===e.status?l(e):"not_authorized"===e.status},{scope:"public_profile, email, user_friends"})},e.changeLang=function(){"english"==t.userInfo.lang?($(".toggle-button").find("button").removeClass("left"),$(".toggle-button").find("button").addClass("right"),t.setLang("hindi")):($(".toggle-button").find("button").removeClass("right"),$(".toggle-button").find("button").addClass("left"),t.setLang("english"))}}]),preppo.controller("CADailyUpdatesController",["$scope","userService","$http","dateToString","apiDomainName","$location","$route","$routeParams",function(e,t,n,a,i,s,o,r){function l(){var t=new Date(e.currentDate.getTime());t.setDate(t.getDate()-1);var s=a.convert(t),o=a.convert(e.currentDate),r={params:{date:o}},l=i+"/news";n.get(l,r).then(function(a){if(0==a.data.length){var r={params:{date:s}},l=i+"/news";n.get(l,r).then(function(n){if(0==n.data.length)e.fetchingStatus=3;else{e.fetchingStatus=2;for(var a=0;a<n.data.length;a++)n.data[a].dateString=s;e.newsUpdates=n.data,e.fetchInfo[s]={len:n.data.length,total:0,isLastDate:!0},e.firstDate=new Date(t.getTime()),e.newsIndexToBeCompared[e.visible]=e.currentNews,e.currentDate.setDate(e.currentDate.getDate()-1)}},function(t){e.fetchingStatus=4})}else{e.fetchingStatus=2;for(var c=0;c<a.data.length;c++)a.data[c].dateString=o;e.newsUpdates=a.data,e.fetchInfo[o]={len:a.data.length,total:0,isLastDate:!0},e.firstDate=new Date(e.currentDate.getTime()),e.newsIndexToBeCompared[e.visible]=e.currentNews}},function(t){e.fetchingStatus=4})}n.defaults.withCredentials=!0,e.dateToString=a,e.currentDate=new Date,e.newsUpdates=[],e.fetchInfo={},e.currentNews=0,e.fetchingStatus=1,e.newsIndexToBeCompared=[0,-1],e.visible=0,e.firstDate=new Date,e.user=t,e.isSliding=[!1,!1],e.errorDate=new Date,e.arr=[0,1],e.ids=["#carousel-0","#carousel-1"],e.localytics={count:0,start:new Date},l(),"transit"==r.mode&&e.$parent.travel("Monthly Digest"),e.fetchData=function(t){var s=new Date(t.getTime());s.setDate(s.getDate()-1);var o=a.convert(s),r=a.convert(t);e.fetchingStatus=1,e.fetchInfo[r].isLastDate=!1;var l={params:{date:o}},c=i+"/news";n.get(c,l).then(function(t){if(0==t.data.length)e.fetchingStatus=3;else{e.fetchingStatus=2;for(var n=0;n<t.data.length;n++)t.data[n].dateString=o;e.newsUpdates=e.newsUpdates.concat(t.data),e.currentNews==e.newsUpdates.length-t.data.length&&(e.newsIndexToBeCompared[e.visible]=e.currentNews),e.fetchInfo[o]={len:t.data.length,total:e.fetchInfo[r].total+e.fetchInfo[r].len,isLastDate:!0}}},function(n){e.errorDate=new Date(t.getTime()),e.fetchingStatus=0})},e.prev=function(){e.isSliding[e.visible]||0==e.currentNews||($(e.ids[e.visible]).carousel("prev"),e.currentNews!=e.newsUpdates.length&&e.currentNews!=e.fetchInfo[a.convert(e.currentDate)].total||e.currentDate.setDate(e.currentDate.getDate()+1),e.currentNews--)},e.next=function(){e.isSliding[e.visible]||e.currentNews==e.newsUpdates.length||($(e.ids[e.visible]).carousel("next"),e.currentNews==e.fetchInfo[a.convert(e.currentDate)].total&&e.fetchInfo[a.convert(e.currentDate)].isLastDate&&e.fetchData(new Date(e.currentDate.getTime())),e.currentNews+1==e.fetchInfo[a.convert(e.currentDate)].total+e.fetchInfo[a.convert(e.currentDate)].len&&e.currentDate.setDate(e.currentDate.getDate()-1),e.currentNews++,e.currentNews>e.localytics.count&&(e.localytics.count=e.currentNews))},e.keyPressed=function(t){var n=t.keyCode?t.keyCode:t.which;37==n?e.prev():39==n&&e.next()},e.backToTop=function(){e.currentNews=0,$(e.ids[e.visible]).find(".item.active").removeClass("active"),e.newsIndexToBeCompared[e.visible]=-1,e.visible=(e.visible+1)%2,e.newsIndexToBeCompared[e.visible]=0,e.currentDate=e.firstDate},e.share=function(n){var a="english"==t.userInfo.lang?"e":"h",i=e.newsUpdates[n].content.english.heading.replace(/ /g,"-"),s="https://preppo.in/news/"+e.newsUpdates[n].dateString+"/"+i.replace(/[^\w-]/g,"")+"?l="+a+"&id="+e.newsUpdates[n]._id;FB.ui({method:"feed",link:s,caption:"preppo.in"},function(e){e.post_id&&ll("tagEvent","share-news")})},e.prettify=function(e){return e=e.replace(/&nbsp;/g,""),e=e.replace(/<br>/g,""),e=e.replace(/<br\/>/g,""),e=e.replace(/<br >/g,""),e=e.replace(/<br \/>/g,""),e=e.replace(/&rsquo;/g,"'"),e=e.replace(/&lsquo;/g,"'"),e=e.replace(/&rdquo;/g,'"'),e=e.replace(/&ldquo;/g,'"')},e.getDateObj=function(e){var t=new Date(e);return t},e.refreshPage=function(){o.reload()},e.changeLang=function(){"english"==t.userInfo.lang?($(".toggle-button").find("button").removeClass("left"),$(".toggle-button").find("button").addClass("right"),t.setLang("hindi")):($(".toggle-button").find("button").removeClass("right"),$(".toggle-button").find("button").addClass("left"),t.setLang("english"))},e.tabChanged=function(t){if("Quiz"==t){var n=new Date;ll("tagEvent","view-news",{duration:Math.round((n-e.localytics.start)/6e4),"# read":e.localytics.count+1}),e.$parent.goTo("Quiz")}else if("Monthly Digest"==t){var n=new Date;ll("tagEvent","view-news",{duration:Math.round((n-e.localytics.start)/6e4),"# read":e.localytics.count+1}),e.$parent.travel("Monthly Digest")}}}]),preppo.controller("CAMonthlyDigestController",["$scope","userService","$http","apiDomainName","$location","$window",function(e,t,n,a,i,s){function o(){var t={headers:{"x-session-token":e.user.userInfo.sessionToken}},i=a+"/news/monthlydigest";n.get(i,t).then(function(t){for(var n=0;n<t.data.length;n++)e.digests[t.data[n].language].push(t.data[n]);e.fetched=!0},function(t){e.fetched=!0,alert("Check internet connection.")})}e.digests={english:[],hindi:[]},e.classNames=["class1","class2","class3","class4"],e.user=t,e.fetched=!1,o(),e.getClassName=function(t){return e.classNames[t%e.classNames.length]},e.changeLang=function(){"english"==t.userInfo.lang?($(".toggle-button").find("button").removeClass("left"),$(".toggle-button").find("button").addClass("right"),t.setLang("hindi")):($(".toggle-button").find("button").removeClass("right"),$(".toggle-button").find("button").addClass("left"),t.setLang("english"))},e.digestClicked=function(t){ll("tagEvent","view-monthly-digest",{month:e.digests[e.user.userInfo.lang].name})}}]),preppo.controller("CAQuizHomeController",["$scope","userService","$http","dateToString","$location","apiDomainName","quizService",function(e,t,n,a,i,s,o){function r(){var t={params:{limit:e.fetchLimit}},a=s+"/news/quiz";n.get(a,t).then(function(t){e.quizzes=t.data,e.quizzes.length<e.fetchLimit?e.belowDataStatus=3:e.belowDataStatus=1,e.fetched=!0},function(t){e.fetched=!0,alert("Check internet connection.")})}e.fetchLimit=20,e.quizzes=[],e.belowDataStatus=0,e.isLoading=!1,e.dateToString=a,e.user=t,e.fetched=!1,r(),e.showMore=function(){e.belowDataStatus=2;var t=e.quizzes[e.quizzes.length-1],i=a.convert(new Date(t.publishDate)),o={params:{limit:e.fetchLimit,lt:i}},r=s+"/news/quiz";n.get(r,o).then(function(t){var n=t.data;n.length<e.fetchLimit?e.belowDataStatus=3:e.belowDataStatus=1;for(var s=e.quizzes.length-1;s>=0&&a.convert(new Date(e.quizzes[s].publishDate))==i;s--)for(var o=e.quizzes[s]._id,r=0;r<n.length;r++)if(n[r]._id==o){n.splice(r,1);break}e.quizzes=e.quizzes.concat(n)},function(t){e.belowDataStatus=1})},e.fetchQuiz=function(t){o.quiz=e.quizzes[t],i.path("/currentAffairs/quiz/"+e.quizzes[t]._id)},e.changeLang=function(){"english"==t.userInfo.lang?($(".toggle-button").find("button").removeClass("left"),$(".toggle-button").find("button").addClass("right"),t.setLang("hindi")):($(".toggle-button").find("button").removeClass("right"),$(".toggle-button").find("button").addClass("left"),t.setLang("english"))}}]),preppo.controller("CAQuizOfficeController",["$scope","userService","$http","$routeParams","apiDomainName","quizService","$window","$location","dateToString",function(e,t,n,a,i,s,o,r,l){function c(){for(var t=e.questions[e.currentQuestionIndex-1],n=["english","hindi"],a={english:[],hindi:[]},i={english:0,hindi:0},s={english:"",hindi:""},o=0;o<n.length;o++)for(var r=0;r<t.content[n[o]].options.length;r++)a[n[o]].push(t.content[n[o]].options[r].optionString),s[n[o]]=t.content[n[o]].solution,t.content[n[o]].options[r].correct&&(i[n[o]]=r);e.questionData={statement:{english:t.content.english.questionString,hindi:t.content.hindi.questionString},options:a,correctAnswer:i,solution:s},e.clickedIndex=-1,e.currentQuestionIndex==e.questions.length&&(e.bottomButtonLabel="FINISH")}function d(){e.isLoading=!0;var t={},a=i+"/news/quiz/"+e.id;n.get(a,t).then(function(t){e.questions=t.data,e.isLoading=!1,e.resetQuestion()},function(t){e.isLoading=!1})}e.id=a.id,e.quiz=s.quiz,e.questions=[],e.currentQuestionIndex=1,e.attempted=!1,e.correctAnswers=0,e.attemptedQuestions=0,e.isLoading=!1,e.questionData={statement:{english:"",hindi:""},options:{english:["","","",""],hindi:["","","",""]},correctAnswer:{english:0,hindi:0},solution:{english:"",hindi:""}},e.optionLabels=["A","B","C","D","E"],e.clickedIndex=-1,e.bottomButtonLabel="NEXT",e.user=t,e.isClicked=[!1,!1,!1,!1,!1],e.localytics={start:new Date},e.resetQuestion=c,d(),e.next=function(t){e.attempted?"NEXT"==t?(e.currentQuestionIndex++,e.attempted=!1,e.resetQuestion()):$("#finishModal").modal("show"):(e.attempted=!0,e.clickedIndex=-1)},e.checkAnswer=function(t){e.attempted||(e.attempted=!0,e.attemptedQuestions++,e.clickedIndex=t,e.questionData.correctAnswer[e.user.userInfo.lang]==t&&e.correctAnswers++)},e.goBack=function(){var t=new Date,n=new Date(e.quiz.publishDate),a=(n.getDay()+6)%7;n.setDate(n.getDate()-a),ll("tagEvent","view-news-quiz",{type:e.quiz.type,duration:Math.round((t-e.localytics.start)/6e4),"quiz-week":l.convert(n),status:"new","# viewed":e.currentQuestionIndex,"% viewed":Math.round(100*e.currentQuestionIndex/e.questions.length),"# attempted":e.attemptedQuestions,"% attempted":Math.round(100*e.attemptedQuestions/e.questions.length),"% correct":Math.round(100*e.correctAnswers/e.attemptedQuestions)}),o.history.back()},e.clicked=function(t){for(var n=0;5>n;n++)n==t?e.isClicked[n]=!0:e.isClicked[n]=!1},e.finishQuiz=function(){for(var t=0,a=0;5>a;a++)if(e.isClicked[a]){t=5-a;break}if($("#finishModal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),e.goBack(),0!=t){var s={quizId:e.id,rating:t},o={headers:{"Content-Type":"application/json"}},r=i+"/extra/ratings/news/quiz";n.post(r,s,o).then(function(e){},function(e){})}},e.changeLang=function(){"english"==t.userInfo.lang?($(".toggle-button").find("button").removeClass("left"),$(".toggle-button").find("button").addClass("right"),t.setLang("hindi")):($(".toggle-button").find("button").removeClass("right"),$(".toggle-button").find("button").addClass("left"),t.setLang("english"))}}]),function(){"use strict";var e={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};e=function(){function e(e,t){for(var n=0;n<u.length;n++)if(u[n].className===e)return"undefined"!=typeof t&&(u[n]=t),u[n];return!1}function t(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function n(e,n){var a=t(e);return-1!==a.indexOf(n)}function a(t,n){if("undefined"==typeof t&&"undefined"==typeof n)for(var s=0;s<u.length;s++)a(u[s].className,u[s].cssClass);else{var o=t;if("undefined"==typeof n){var r=e(o);r&&(n=r.cssClass)}for(var l=document.querySelectorAll("."+n),c=0;c<l.length;c++)i(l[c],o)}}function i(a,i){if(!("object"==typeof a&&a instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var s=t(a),o=[];if(i)n(a,i)||o.push(e(i));else{var r=a.classList;u.forEach(function(e){r.contains(e.cssClass)&&-1===o.indexOf(e)&&!n(a,e.className)&&o.push(e)})}for(var l,c=0,d=o.length;d>c;c++){if(l=o[c],!l)throw new Error("Unable to find a registered component for the given class.");s.push(l.className),a.setAttribute("data-upgraded",s.join(","));var f=new l.classConstructor(a);f[h]=l,g.push(f);for(var p=0,m=l.callbacks.length;m>p;p++)l.callbacks[p](a);l.widget&&(a[l.className]=f);var w=document.createEvent("Events");w.initEvent("mdl-componentupgraded",!0,!0),a.dispatchEvent(w)}}function s(e){Array.isArray(e)||(e="function"==typeof e.item?Array.prototype.slice.call(e):[e]);for(var t,n=0,a=e.length;a>n;n++)t=e[n],t instanceof HTMLElement&&(i(t),t.children.length>0&&s(t.children))}function o(t){var n="undefined"==typeof t.widget&&"undefined"==typeof t.widget,a=!0;n||(a=t.widget||t.widget);var i={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:a,callbacks:[]};if(u.forEach(function(e){if(e.cssClass===i.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===i.className)throw new Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(h))throw new Error("MDL component classes must not have "+h+" defined as a property.");var s=e(t.classAsString,i);s||u.push(i)}function r(t,n){var a=e(t);a&&a.callbacks.push(n)}function l(){for(var e=0;e<u.length;e++)a(u[e].className)}function c(e){var t=g.indexOf(e);g.splice(t,1);var n=e.element_.getAttribute("data-upgraded").split(","),a=n.indexOf(e[h].classAsString);n.splice(a,1),e.element_.setAttribute("data-upgraded",n.join(","));var i=document.createEvent("Events");i.initEvent("mdl-componentdowngraded",!0,!0),e.element_.dispatchEvent(i)}function d(e){var t=function(e){g.filter(function(t){return t.element_===e}).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var n=0;n<e.length;n++)t(e[n]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");t(e)}}var u=[],g=[],h="mdlComponentConfigInternal_";return{upgradeDom:a,upgradeElement:i,upgradeElements:s,upgradeAllRegistered:l,registerUpgradedCallback:r,register:o,downgradeElements:d}}(),e.ComponentConfigPublic,e.ComponentConfig,e.Component,e.upgradeDom=e.upgradeDom,e.upgradeElement=e.upgradeElement,e.upgradeElements=e.upgradeElements,e.upgradeAllRegistered=e.upgradeAllRegistered,e.registerUpgradedCallback=e.registerUpgradedCallback,e.register=e.register,e.downgradeElements=e.downgradeElements,window.componentHandler=e,window.componentHandler=e,window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),e.upgradeAllRegistered()):(e.upgradeElement=function(){},e.register=function(){})}),Date.now||(Date.now=function(){return(new Date).getTime()},Date.now=Date.now);for(var t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n){var a=t[n];window.requestAnimationFrame=window[a+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a+"CancelAnimationFrame"]||window[a+"CancelRequestAnimationFrame"],window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var i=0;window.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(i+16,t);return setTimeout(function(){e(i=n)},n-t)},window.cancelAnimationFrame=clearTimeout,window.requestAnimationFrame=window.requestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame}var s=function(e){if(this.element_=e,this.textElement_=this.element_.querySelector("."+this.cssClasses_.MESSAGE),this.actionElement_=this.element_.querySelector("."+this.cssClasses_.ACTION),!this.textElement_)throw new Error("There must be a message element for a snackbar.");if(!this.actionElement_)throw new Error("There must be an action element for a snackbar.");this.active=!1,this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.queuedNotifications_=[],this.setActionHidden_(!0)};window.MaterialSnackbar=s,s.prototype.Constant_={ANIMATION_LENGTH:250},s.prototype.cssClasses_={SNACKBAR:"mdl-snackbar",MESSAGE:"mdl-snackbar__text",ACTION:"mdl-snackbar__action",ACTIVE:"mdl-snackbar--active"},s.prototype.displaySnackbar_=function(){this.element_.setAttribute("aria-hidden","true"),this.actionHandler_&&(this.actionElement_.textContent=this.actionText_,this.actionElement_.addEventListener("click",this.actionHandler_),this.setActionHidden_(!1)),this.textElement_.textContent=this.message_,this.element_.classList.add(this.cssClasses_.ACTIVE),this.element_.setAttribute("aria-hidden","false"),setTimeout(this.cleanup_.bind(this),this.timeout_)},s.prototype.showSnackbar=function(e){if(void 0===e)throw new Error("Please provide a data object with at least a message to display.");if(void 0===e.message)throw new Error("Please provide a message to be displayed.");if(e.actionHandler&&!e.actionText)throw new Error("Please provide action text with the handler.");this.active?this.queuedNotifications_.push(e):(this.active=!0,this.message_=e.message,e.timeout?this.timeout_=e.timeout:this.timeout_=2750,e.actionHandler&&(this.actionHandler_=e.actionHandler),e.actionText&&(this.actionText_=e.actionText),this.displaySnackbar_())},s.prototype.showSnackbar=s.prototype.showSnackbar,s.prototype.checkQueue_=function(){this.queuedNotifications_.length>0&&this.showSnackbar(this.queuedNotifications_.shift())},s.prototype.cleanup_=function(){this.element_.classList.remove(this.cssClasses_.ACTIVE),setTimeout(function(){this.element_.setAttribute("aria-hidden","true"),this.textElement_.textContent="",Boolean(this.actionElement_.getAttribute("aria-hidden"))||(this.setActionHidden_(!0),this.actionElement_.textContent="",this.actionElement_.removeEventListener("click",this.actionHandler_)),this.actionHandler_=void 0,this.message_=void 0,this.actionText_=void 0,this.active=!1,this.checkQueue_()}.bind(this),this.Constant_.ANIMATION_LENGTH)},s.prototype.setActionHidden_=function(e){e?this.actionElement_.setAttribute("aria-hidden","true"):this.actionElement_.removeAttribute("aria-hidden")},e.register({constructor:s,classAsString:"MaterialSnackbar",cssClass:"mdl-js-snackbar",widget:!0});var o=function(e){this.element_=e,this.init()};window.MaterialSpinner=o,o.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},o.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},o.prototype.createLayer=function(e){var t=document.createElement("div");t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),t.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var s=[n,a,i],o=0;o<s.length;o++){var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),s[o].appendChild(r)}t.appendChild(n),t.appendChild(a),t.appendChild(i),this.element_.appendChild(t)},o.prototype.createLayer=o.prototype.createLayer,o.prototype.stop=function(){this.element_.classList.remove("is-active")},o.prototype.stop=o.prototype.stop,o.prototype.start=function(){this.element_.classList.add("is-active")},o.prototype.start=o.prototype.start,o.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},e.register({constructor:o,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}();